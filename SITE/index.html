<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title> Test cellule orageuse </title>
    <h1> Bienvenue à l'expérience </h1>
</head>
<body>
    <form>
        <label for="numParticipant"> Numéro participant:</label>
        <input type="number" id="numParticipant1" name="numParticipant"><br><br>

        <label for="session">Session:</label>
        <input type="number" id="session1" name="session" min="1" max="3"><br><br>
        
        <label for="condition">Condition:</label>
        <input type="number" id="condition1" name="condition" min="1" max="3"><br><br>

        <input type="checkbox" id="consentement" required>
        <label for="consentement">Avez-vous signé votre consentement informé?</label><br><br>
        
        <button type="button" id="enlaceBoton">Débuter l'expérience</button>
    </form>



    

    <script>
        // Obtener referencia al botón
        const enlaceBoton = document.getElementById('enlaceBoton');

        // Agregar un evento click al botón
        enlaceBoton.addEventListener('click', function() {
            // Cambiar la ubicación a la página deseada
            if (consentement.checked) {
            const numParticipant = document.getElementById("numParticipant1").value;
            const condition = document.getElementById("condition1").value;
            const session = document.getElementById("session1").value;
            console.log(numParticipant,condition);
            localStorage.setItem("numParticipant", numParticipant);
            localStorage.setItem("condition", condition);
            localStorage.setItem("session", session);


            window.location.href = "contrafactual.html?numParticipant=" + encodeURIComponent(numParticipant) + "&condition=" + encodeURIComponent(condition) + "&session=" + encodeURIComponent(session); 
        } else {
            alert("Assurez-vous d'avoir signé le consentement informé");
        }
        });
    </script>
</body>
</html>
